# Hardhat Node API Sample

This sample project assumes you've set up the [https://github.com/msherer95/contract-samples](previous sample project).
This is a base project that shows how to use contract typings generated by the project above to create Node APIs
that can interact with your smart contracts. The idea here is that we want to generate our contracts in one project (above), use
typechain to create typescript typings for them, and import those typings here to abstract away interaction with the Ethereum node.
In this project, we can create whatever regular Node project we want, but also be able to interact cleanly with our Solidity contracts.

## Structure

- `dist` is where our transpiled files go, as is typical in Node apps
- `index.ts` is a very basic entrypoint to our Node app
	- The entrypoint creates a single endpoint that allows us to interact with our Solidity contracts
	- We use Express to create the endpoint. This is the typical entrypoint file for an Express app, and can be extended to a full Express app as needed.

## How it works

- Run `npm install`
- Run `npm run local-deploy`
- `index.ts` creates a simple Express server and listens on port 8080
- Spin up a local Ethereum node with `npx hardhat node`
- Go to the [https://github.com/msherer95/contract-samples](previous sample project) and run `npm run local-deploy` to deploy test contracts to the node
- In a separate terminal, run `curl localhost:8080/addCount`. You should see:
	- The terminal show the retrieved count (after updating)
	- The terminal with the Express server log an updated count value as well (increases by 103)


