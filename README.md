# Hardhat Sample

This is a base repo that's meant to be forked to create contracts.

## Structure:
- `contracts` is the main entrypoint for creating new contracts
- `contract-types` is autogenerated JS contract client from `contracts` using typechain
- `scripts` currently just has a `deploy.ts` script, but can have more helper and deploy-styled scripts
	- `deploy.ts` manages deploying all the contracts specified in an array by name
	- Also uses a Registry contract to save contract addresses/names
	- Writes out address/name mappings into the `contractAddresses.json` file after generation. This should help with documentation
	- Registry reads a regstry address from `.env` file to avoid creating a new one each time. `local.env` is the env associated with `local-deploy`.
`lib` is where typescript compiles all the contract clients and creates typings for them. 

** This has to be extended to allow testnet and mainnet connections

## How to use for contract development:
- fork
- remove registry address from `local.env`
- change the name in `package.json`
- run `npm init` 
- run `npx hardhat clean` just in case
- run `npx hardhat node` to create a local node
- run `npm run local-deploy` to compile contracts, compile typescript, deploy to the local node
	- save the Registry address that's output and save it to `local.env` 
	- note that you'll have to erase it from `local.env` every time you restart the local node
- take a look at `package.json` to see the build/compile commands useful for development

## How to use for contract clients:
You can, of course, write Node logic direction in here. However, for separation of concerns, I prefer to create one library-style project
for Solidity contracts, and a separate one for any additional FE/BE logic. This project sample makes it easy:
- Deploy it to npm or github packages,
- Fork the sample project again into a separate project
- `npm install` this contracts project into your newly forked project
- By importing it (by name set in package.json), you can access all your factories and contract types
